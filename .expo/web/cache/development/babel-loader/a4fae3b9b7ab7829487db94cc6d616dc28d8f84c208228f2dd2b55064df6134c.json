{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Weather from \"../../../components/Weather\";\nimport { API_KEY } from \"../../../utils/WeatherAPIKey\";\nimport * as Location from \"expo-location\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Home = function Home() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    temperature = _useState4[0],\n    setTemperature = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    weatherCondition = _useState6[0],\n    setWeatherCondition = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    error = _useState8[0],\n    setError = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    country = _useState10[0],\n    setCountry = _useState10[1];\n  var _useState11 = useState(null),\n    _useState12 = _slicedToArray(_useState11, 2),\n    name = _useState12[0],\n    setName = _useState12[1];\n  useEffect(function () {\n    Location.requestForegroundPermissionsAsync().then(function (_ref) {\n      var status = _ref.status;\n      if (status === \"granted\") {\n        Location.getCurrentPositionAsync().then(function (position) {\n          fetchWeather(position.coords.latitude, position.coords.longitude);\n        }).catch(function (error) {\n          console.error(\"Error Getting Weather Conditions:\", error);\n          setIsLoading(false);\n          setError(\"Error Getting Weather Conditions\");\n        });\n      } else {\n        setIsLoading(false);\n        setError(\"Location permission not granted\");\n      }\n    }).catch(function (error) {\n      console.error(\"Error Getting Location Permission:\", error);\n      setIsLoading(false);\n      setError(\"Error Getting Location Permission\");\n    });\n  }, []);\n  var fetchWeather = function fetchWeather() {\n    var lat = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 25;\n    var lon = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 25;\n    setIsLoading(true);\n    fetch(\"http://api.openweathermap.org/data/2.5/weather?lat=\" + lat + \"&lon=\" + lon + \"&appid=\" + API_KEY + \"&units=metric\").then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      console.log(json);\n      setIsLoading(false);\n      setTemperature(json.main.temp);\n      setWeatherCondition(json.weather[0].main);\n      setCountry(json.sys.country);\n      setName(json.name);\n    }).catch(function (error) {\n      console.error(error);\n      setIsLoading(false);\n      setError(\"Error Fetching Weather\");\n    });\n  };\n  return _jsx(SafeAreaView, {\n    children: _jsx(View, {\n      style: styles.container,\n      children: _jsxs(View, {\n        style: styles.top,\n        children: [_jsx(View, {\n          style: styles.boxer,\n          children: isLoading ? _jsx(Text, {\n            style: styles.loadingText,\n            children: \"Fetching The Weather\"\n          }) : error ? _jsx(Text, {\n            style: styles.errorText,\n            children: error\n          }) : _jsx(Weather, {\n            temperature: temperature,\n            weatherCondition: weatherCondition,\n            country: country,\n            name: name\n          })\n        }), _jsx(View, {\n          style: styles.boxer,\n          children: isLoading ? _jsx(Text, {\n            style: styles.loadingText,\n            children: \"Fetching The Weather\"\n          }) : error ? _jsx(Text, {\n            style: styles.errorText,\n            children: error\n          }) : _jsx(Weather, {\n            temperature: temperature,\n            weatherCondition: weatherCondition,\n            country: country,\n            name: name\n          })\n        })]\n      })\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  loadingText: {\n    fontSize: 16,\n    color: \"rgba(236, 153, 95, 1)\"\n  },\n  errorText: {\n    fontSize: 16,\n    color: \"red\"\n  }\n});\nexport default Home;","map":{"version":3,"names":["React","useState","useEffect","Text","View","SafeAreaView","StyleSheet","Weather","API_KEY","Location","jsx","_jsx","jsxs","_jsxs","Home","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","temperature","setTemperature","_useState5","_useState6","weatherCondition","setWeatherCondition","_useState7","_useState8","error","setError","_useState9","_useState10","country","setCountry","_useState11","_useState12","name","setName","requestForegroundPermissionsAsync","then","_ref","status","getCurrentPositionAsync","position","fetchWeather","coords","latitude","longitude","catch","console","lat","arguments","length","undefined","lon","fetch","res","json","log","main","temp","weather","sys","children","style","styles","container","top","boxer","loadingText","errorText","create","flex","fontSize","color"],"sources":["C:/Users/dxuse/OneDrive/เอกสาร/GitHub/LornJung/src/view/screen/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Text, View, SafeAreaView, StyleSheet } from \"react-native\";\r\nimport Weather from \"../../../components/Weather\";\r\nimport { API_KEY } from \"../../../utils/WeatherAPIKey\";\r\nimport * as Location from \"expo-location\";\r\n\r\nconst Home = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [temperature, setTemperature] = useState(0);\r\n  const [weatherCondition, setWeatherCondition] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [country, setCountry] = useState(null);\r\n  const [name, setName] = useState(null);\r\n\r\n  useEffect(() => {\r\n    Location.requestForegroundPermissionsAsync()\r\n      .then(({ status }) => {\r\n        if (status === \"granted\") {\r\n          Location.getCurrentPositionAsync()\r\n            .then((position) => {\r\n              fetchWeather(position.coords.latitude, position.coords.longitude);\r\n            })\r\n            .catch((error) => {\r\n              console.error(\"Error Getting Weather Conditions:\", error);\r\n              setIsLoading(false);\r\n              setError(\"Error Getting Weather Conditions\");\r\n            });\r\n        } else {\r\n          setIsLoading(false);\r\n          setError(\"Location permission not granted\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error Getting Location Permission:\", error);\r\n        setIsLoading(false);\r\n        setError(\"Error Getting Location Permission\");\r\n      });\r\n  }, []);\r\n\r\n  const fetchWeather = (lat = 25, lon = 25) => {\r\n    setIsLoading(true);\r\n\r\n    fetch(\r\n      `http://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`\r\n    )\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        console.log(json);\r\n        setIsLoading(false);\r\n        setTemperature(json.main.temp);\r\n        setWeatherCondition(json.weather[0].main);\r\n        setCountry(json.sys.country);\r\n        setName(json.name);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        setIsLoading(false);\r\n        setError(\"Error Fetching Weather\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView>\r\n      <View style={styles.container}>\r\n        <View style={styles.top}>\r\n          <View style={styles.boxer}>\r\n            {isLoading ? (\r\n              <Text style={styles.loadingText}>Fetching The Weather</Text>\r\n            ) : error ? (\r\n              <Text style={styles.errorText}>{error}</Text>\r\n            ) : (\r\n              <Weather\r\n                temperature={temperature}\r\n                weatherCondition={weatherCondition}\r\n                country={country}\r\n                name={name}\r\n              />\r\n            )}\r\n          </View>\r\n\r\n          <View style={styles.boxer}>\r\n            {isLoading ? (\r\n              <Text style={styles.loadingText}>Fetching The Weather</Text>\r\n            ) : error ? (\r\n              <Text style={styles.errorText}>{error}</Text>\r\n            ) : (\r\n              <Weather\r\n                temperature={temperature}\r\n                weatherCondition={weatherCondition}\r\n                country={country}\r\n                name={name}\r\n              />\r\n            )}\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  loadingText: {\r\n    fontSize: 16,\r\n    color: \"rgba(236, 153, 95, 1)\",\r\n  },\r\n  errorText: {\r\n    fontSize: 16,\r\n    color: \"red\",\r\n  },\r\n});\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}